# Generated by Django 5.2 on 2026-01-03 19:10

import datetime
import django.core.validators
import django.db.models.deletion
import rent.models.common_imports_models
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Backup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='تاريخ إنشاء السجل تلقائياً', verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='تاريخ آخر تعديل تلقائياً', verbose_name='تاريخ التعديل')),
                ('backup_type', models.CharField(choices=[('full', 'كامل'), ('incremental', 'تزايدي'), ('partial', 'جزئي'), ('differential', 'تفاضلي')], default='full', help_text='نوع النسخة الاحتياطية', max_length=20, verbose_name='نوع النسخ')),
                ('file_name', models.CharField(help_text='اسم ملف النسخة الاحتياطية', max_length=200, verbose_name='اسم الملف')),
                ('file_path', models.CharField(help_text='المسار الكامل للملف', max_length=500, verbose_name='مسار الملف')),
                ('file_size', models.BigIntegerField(default=0, help_text='حجم الملف بالبايت', verbose_name='حجم الملف')),
                ('tables_count', models.PositiveIntegerField(default=0, help_text='عدد الجداول المشمولة في النسخة', verbose_name='عدد الجداول')),
                ('records_count', models.PositiveIntegerField(default=0, help_text='إجمالي عدد السجلات', verbose_name='عدد السجلات')),
                ('included_tables', models.JSONField(blank=True, help_text='قائمة الجداول المشمولة في النسخة', null=True, verbose_name='الجداول المشمولة')),
                ('status', models.CharField(choices=[('pending', 'قيد الانتظار'), ('in_progress', 'قيد التنفيذ'), ('completed', 'مكتمل'), ('failed', 'فشل'), ('corrupted', 'تالف')], db_index=True, default='pending', help_text='حالة النسخة الاحتياطية', max_length=20, verbose_name='الحالة')),
                ('is_successful', models.BooleanField(db_index=True, default=True, help_text='هل النسخة الاحتياطية ناجحة؟', verbose_name='ناجح')),
                ('error_message', models.TextField(blank=True, help_text='رسالة الخطأ في حالة الفشل', verbose_name='رسالة الخطأ')),
                ('started_at', models.DateTimeField(blank=True, help_text='وقت بدء النسخ الاحتياطي', null=True, verbose_name='بدأ في')),
                ('completed_at', models.DateTimeField(blank=True, help_text='وقت انتهاء النسخ الاحتياطي', null=True, verbose_name='انتهى في')),
                ('duration', models.DurationField(blank=True, help_text='مدة تنفيذ النسخ الاحتياطي', null=True, verbose_name='المدة')),
                ('is_verified', models.BooleanField(default=False, help_text='هل تم التحقق من سلامة النسخة؟', verbose_name='تم التحقق')),
                ('verified_at', models.DateTimeField(blank=True, help_text='تاريخ التحقق من النسخة', null=True, verbose_name='تاريخ التحقق')),
                ('checksum', models.CharField(blank=True, help_text='MD5 أو SHA256 checksum للملف', max_length=64, verbose_name='المجموع الاختباري')),
                ('expires_at', models.DateTimeField(blank=True, help_text='تاريخ انتهاء صلاحية النسخة', null=True, verbose_name='ينتهي في')),
                ('is_archived', models.BooleanField(default=False, help_text='هل النسخة مؤرشفة؟', verbose_name='مؤرشف')),
                ('notes', models.TextField(blank=True, help_text='أي ملاحظات عن النسخة', verbose_name='ملاحظات')),
                ('metadata', models.JSONField(blank=True, help_text='بيانات إضافية بصيغة JSON', null=True, verbose_name='بيانات إضافية')),
                ('created_by', models.ForeignKey(blank=True, help_text='المستخدم الذي أنشأ السجل', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='أنشئ بواسطة')),
                ('updated_by', models.ForeignKey(blank=True, help_text='المستخدم الذي عدّل السجل آخر مرة', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='عُدل بواسطة')),
            ],
            options={
                'verbose_name': 'نسخة احتياطية',
                'verbose_name_plural': 'النسخ الاحتياطية',
                'db_table': 'backups',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BackupSchedule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='تاريخ إنشاء السجل تلقائياً', verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='تاريخ آخر تعديل تلقائياً', verbose_name='تاريخ التعديل')),
                ('name', models.CharField(help_text='اسم واضح للجدول', max_length=200, verbose_name='اسم الجدول')),
                ('backup_type', models.CharField(choices=[('full', 'كامل'), ('incremental', 'تزايدي'), ('partial', 'جزئي'), ('differential', 'تفاضلي')], default='full', help_text='نوع النسخة الاحتياطية المجدولة', max_length=20, verbose_name='نوع النسخ')),
                ('frequency', models.CharField(choices=[('hourly', 'كل ساعة'), ('daily', 'يومي'), ('weekly', 'أسبوعي'), ('monthly', 'شهري'), ('manual', 'يدوي')], default='daily', help_text='كم مرة يتم النسخ الاحتياطي', max_length=20, verbose_name='التكرار')),
                ('execution_time', models.TimeField(help_text='الوقت المحدد للنسخ الاحتياطي', verbose_name='وقت التنفيذ')),
                ('day_of_week', models.PositiveIntegerField(blank=True, help_text='0=الأحد, 6=السبت (للنسخ الأسبوعي)', null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(6)], verbose_name='يوم الأسبوع')),
                ('day_of_month', models.PositiveIntegerField(blank=True, help_text='اليوم من الشهر (للنسخ الشهري)', null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(31)], verbose_name='يوم الشهر')),
                ('include_all_tables', models.BooleanField(default=True, help_text='هل يتم نسخ جميع الجداول؟', verbose_name='شمل جميع الجداول')),
                ('included_tables', models.JSONField(blank=True, help_text='قائمة الجداول للنسخ (إذا لم يكن الكل)', null=True, verbose_name='الجداول المشمولة')),
                ('excluded_tables', models.JSONField(blank=True, help_text='جداول لا تُنسخ حتى لو كان الكل مفعّل', null=True, verbose_name='الجداول المستبعدة')),
                ('storage_path', models.CharField(help_text='المسار لحفظ النسخ الاحتياطية', max_length=500, verbose_name='مسار التخزين')),
                ('retention_days', models.PositiveIntegerField(default=30, help_text='عدد الأيام للاحتفاظ بالنسخ القديمة', verbose_name='مدة الاحتفاظ (أيام)')),
                ('max_backups_to_keep', models.PositiveIntegerField(default=10, help_text='الحد الأقصى لعدد النسخ المحفوظة', verbose_name='أقصى عدد للنسخ')),
                ('compress_backup', models.BooleanField(default=True, help_text='هل يتم ضغط الملف؟', verbose_name='ضغط النسخة')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='هل الجدول مُفعّل؟', verbose_name='نشط')),
                ('last_run', models.DateTimeField(blank=True, help_text='تاريخ ووقت آخر نسخ احتياطي', null=True, verbose_name='آخر تنفيذ')),
                ('next_run', models.DateTimeField(blank=True, db_index=True, help_text='موعد النسخ الاحتياطي القادم', null=True, verbose_name='التنفيذ التالي')),
                ('notify_on_success', models.BooleanField(default=False, help_text='إرسال إشعار عند نجاح النسخ', verbose_name='إشعار عند النجاح')),
                ('notify_on_failure', models.BooleanField(default=True, help_text='إرسال إشعار عند فشل النسخ', verbose_name='إشعار عند الفشل')),
                ('notification_emails', models.JSONField(blank=True, help_text='قائمة البريد الإلكتروني للإشعارات', null=True, verbose_name='بريد الإشعارات')),
                ('notes', models.TextField(blank=True, help_text='أي ملاحظات عن الجدول', verbose_name='ملاحظات')),
                ('created_by', models.ForeignKey(blank=True, help_text='المستخدم الذي أنشأ السجل', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='أنشئ بواسطة')),
                ('last_backup', models.ForeignKey(blank=True, help_text='آخر نسخة احتياطية مُنفذة', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='schedule_last', to='rent.backup', verbose_name='آخر نسخة')),
                ('updated_by', models.ForeignKey(blank=True, help_text='المستخدم الذي عدّل السجل آخر مرة', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='عُدل بواسطة')),
            ],
            options={
                'verbose_name': 'جدول نسخ احتياطي',
                'verbose_name_plural': 'جداول النسخ الاحتياطي',
                'db_table': 'backup_schedules',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Contract',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='تاريخ إنشاء السجل تلقائياً', verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='تاريخ آخر تعديل تلقائياً', verbose_name='تاريخ التعديل')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='هل السجل محذوف (حذف ناعم)', verbose_name='محذوف')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='تاريخ حذف السجل', null=True, verbose_name='تاريخ الحذف')),
                ('contract_number', models.CharField(db_index=True, default=rent.models.common_imports_models.generate_contract_number, help_text='رقم العقد الفريد (يُولد تلقائياً)', max_length=50, unique=True, verbose_name='رقم العقد')),
                ('start_date', models.DateField(db_index=True, help_text='تاريخ بداية سريان العقد', verbose_name='تاريخ البداية')),
                ('contract_duration_months', models.PositiveIntegerField(default=12, help_text='مدة العقد بالأشهر (افتراضي: 12 شهر)', validators=[django.core.validators.MinValueValidator(1)], verbose_name='مدة العقد (أشهر)')),
                ('end_date', models.DateField(blank=True, db_index=True, help_text='تاريخ انتهاء العقد (يُحسب تلقائياً من تاريخ البداية + المدة)', null=True, verbose_name='تاريخ النهاية')),
                ('base_rent_amount', models.DecimalField(decimal_places=2, help_text='القيمة الإيجارية الأساسية للفترة', max_digits=12, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='قيمة الإيجار الأساسي')),
                ('monthly_amount', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='القيمة الإيجارية الشهرية (تُحسب تلقائياً)', max_digits=12, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='القيمة الشهرية')),
                ('total_amount', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='إجمالي قيمة العقد (تُحسب تلقائياً)', max_digits=12, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='إجمالي قيمة العقد')),
                ('payment_frequency', models.CharField(choices=[('monthly', 'شهري'), ('quarterly', 'ربع سنوي'), ('semi_annual', 'نصف سنوي'), ('annual', 'سنوي')], default='monthly', help_text='كم مرة يتم الدفع (شهري، ربع سنوي، إلخ)', max_length=20, verbose_name='دورية السداد')),
                ('payment_day', models.PositiveIntegerField(default=1, help_text='اليوم المحدد من الشهر للدفع (1-28)', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(28)], verbose_name='يوم الدفع من الشهر')),
                ('period_months', models.PositiveIntegerField(blank=True, help_text='عدد الأشهر لكل فترة دفع (يُحسب من payment_frequency إذا كان فارغاً)', null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(12)], verbose_name='عدد أشهر الفترة')),
                ('annual_rent', models.DecimalField(blank=True, decimal_places=2, help_text='إجمالي الإيجار السنوي (يُحسب من base_rent_amount إذا كان فارغاً)', max_digits=12, null=True, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='الإيجار السنوي')),
                ('security_deposit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='مبلغ التأمين/الضمان المالي', max_digits=12, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='الضمان المالي')),
                ('allow_advance_payment', models.BooleanField(default=True, help_text='هل يُسمح بدفع مقدم لفترات مستقبلية؟', verbose_name='السماح بالسداد المقدم')),
                ('grace_period_days', models.PositiveIntegerField(default=5, help_text='عدد الأيام المسموح بها بعد موعد الدفع', validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(90)], verbose_name='فترة السماح (أيام)')),
                ('late_fee_percentage', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='نسبة الغرامة على المدفوعات المتأخرة', max_digits=5, validators=[rent.models.common_imports_models.validate_percentage], verbose_name='نسبة غرامة التأخير %')),
                ('status', models.CharField(choices=[('draft', 'مسودة'), ('active', 'نشط'), ('expired', 'منتهي'), ('terminated', 'ملغي'), ('renewed', 'مجدد')], db_index=True, default='draft', help_text='الحالة الحالية للعقد', max_length=20, verbose_name='حالة العقد')),
                ('actual_end_date', models.DateField(blank=True, help_text='التاريخ الفعلي لإنهاء العقد (إذا تم إنهاؤه مبكراً)', null=True, verbose_name='تاريخ الإنهاء الفعلي')),
                ('termination_reason', models.TextField(blank=True, help_text='سبب إنهاء العقد مبكراً', verbose_name='سبب الإنهاء')),
                ('termination_penalty', models.DecimalField(blank=True, decimal_places=2, help_text='قيمة الغرامة في حالة الإنهاء المبكر', max_digits=12, null=True, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='غرامة الإنهاء')),
                ('total_paid_amount', models.DecimalField(decimal_places=2, default=Decimal('0.00'), editable=False, help_text='إجمالي المبالغ المدفوعة (يُحسب تلقائياً)', max_digits=12, verbose_name='إجمالي المدفوع')),
                ('notes', models.TextField(blank=True, help_text='أي ملاحظات إضافية عن العقد', verbose_name='ملاحظات')),
                ('created_by', models.ForeignKey(blank=True, help_text='المستخدم الذي أنشأ السجل', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='أنشئ بواسطة')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='المستخدم الذي حذف السجل', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='حذف بواسطة')),
                ('updated_by', models.ForeignKey(blank=True, help_text='المستخدم الذي عدّل السجل آخر مرة', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='عُدل بواسطة')),
            ],
            options={
                'verbose_name': 'عقد',
                'verbose_name_plural': 'العقود',
                'db_table': 'contracts',
                'ordering': ['-start_date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ContractModification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='تاريخ إنشاء السجل تلقائياً', verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='تاريخ آخر تعديل تلقائياً', verbose_name='تاريخ التعديل')),
                ('modification_type', models.CharField(choices=[('extension', 'تمديد عقد'), ('rent_increase', 'زيادة إيجار'), ('rent_decrease', 'تخفيض إيجار'), ('discount', 'خصم'), ('vat', 'قيمة مضافة'), ('termination', 'إنهاء عقد')], db_index=True, help_text='نوع التعديل المطلوب', max_length=20, verbose_name='نوع التعديل')),
                ('effective_date', models.DateField(db_index=True, help_text='تاريخ سريان التعديل', verbose_name='تاريخ السريان')),
                ('extension_months', models.PositiveIntegerField(blank=True, help_text='عدد الأشهر المطلوب تمديدها', null=True, validators=[django.core.validators.MinValueValidator(1)], verbose_name='عدد أشهر التمديد')),
                ('new_end_date', models.DateField(blank=True, help_text='تاريخ انتهاء العقد بعد التمديد (يُحسب تلقائياً)', null=True, verbose_name='تاريخ الانتهاء الجديد')),
                ('old_rent_amount', models.DecimalField(blank=True, decimal_places=2, help_text='قيمة الإيجار قبل التعديل', max_digits=12, null=True, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='قيمة الإيجار القديمة')),
                ('new_rent_amount', models.DecimalField(blank=True, decimal_places=2, help_text='قيمة الإيجار بعد التعديل', max_digits=12, null=True, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='قيمة الإيجار الجديدة')),
                ('change_amount', models.DecimalField(blank=True, decimal_places=2, help_text='مبلغ الزيادة أو التخفيض', max_digits=12, null=True, verbose_name='مبلغ التغيير')),
                ('change_percentage', models.DecimalField(blank=True, decimal_places=2, help_text='نسبة الزيادة (+) أو التخفيض (-) %', max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(-100), django.core.validators.MaxValueValidator(100)], verbose_name='نسبة التغيير %')),
                ('discount_amount', models.DecimalField(blank=True, decimal_places=2, help_text='مبلغ الخصم على الفترة', max_digits=12, null=True, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='مبلغ الخصم')),
                ('discount_period_number', models.PositiveIntegerField(blank=True, help_text='رقم الفترة المطلوب تطبيق الخصم عليها', null=True, verbose_name='رقم فترة الخصم')),
                ('vat_percentage', models.DecimalField(blank=True, decimal_places=2, default=Decimal('15.00'), help_text='نسبة القيمة المضافة % (افتراضي: 15%)', max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='نسبة القيمة المضافة %')),
                ('vat_amount', models.DecimalField(blank=True, decimal_places=2, help_text='مبلغ القيمة المضافة (يُحسب تلقائياً)', max_digits=12, null=True, verbose_name='مبلغ القيمة المضافة')),
                ('vat_period_number', models.PositiveIntegerField(blank=True, help_text='رقم الفترة المطلوب تطبيق القيمة المضافة عليها', null=True, verbose_name='رقم فترة القيمة المضافة')),
                ('termination_date', models.DateField(blank=True, help_text='تاريخ إنهاء العقد فعلياً', null=True, verbose_name='تاريخ الإنهاء الفعلي')),
                ('termination_reason', models.TextField(blank=True, help_text='سبب إنهاء العقد قبل موعده', verbose_name='سبب الإنهاء')),
                ('is_applied', models.BooleanField(db_index=True, default=False, help_text='هل تم تطبيق التعديل على العقد؟', verbose_name='مُطبّق')),
                ('applied_at', models.DateTimeField(blank=True, help_text='تاريخ ووقت تطبيق التعديل', null=True, verbose_name='تاريخ التطبيق')),
                ('description', models.TextField(blank=True, help_text='وصف تفصيلي للتعديل', verbose_name='الوصف')),
                ('notes', models.TextField(blank=True, help_text='ملاحظات إضافية', verbose_name='ملاحظات')),
                ('applied_by', models.ForeignKey(blank=True, help_text='المستخدم الذي طبّق التعديل', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='applied_modifications', to=settings.AUTH_USER_MODEL, verbose_name='طُبّق بواسطة')),
                ('contract', models.ForeignKey(help_text='العقد المطلوب تعديله', on_delete=django.db.models.deletion.CASCADE, related_name='modifications', to='rent.contract', verbose_name='العقد')),
                ('created_by', models.ForeignKey(blank=True, help_text='المستخدم الذي أنشأ السجل', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='أنشئ بواسطة')),
                ('updated_by', models.ForeignKey(blank=True, help_text='المستخدم الذي عدّل السجل آخر مرة', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='عُدل بواسطة')),
            ],
            options={
                'verbose_name': 'تعديل عقد',
                'verbose_name_plural': 'تعديلات العقود',
                'db_table': 'contract_modifications',
                'ordering': ['-effective_date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Land',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='تاريخ إنشاء السجل تلقائياً', verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='تاريخ آخر تعديل تلقائياً', verbose_name='تاريخ التعديل')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='هل السجل محذوف (حذف ناعم)', verbose_name='محذوف')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='تاريخ حذف السجل', null=True, verbose_name='تاريخ الحذف')),
                ('name', models.CharField(help_text='اسم واضح للأرض أو القطعة', max_length=200, verbose_name='اسم الأرض')),
                ('area', models.DecimalField(decimal_places=2, help_text='المساحة الإجمالية للأرض بالمتر المربع', max_digits=10, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='المساحة (متر مربع)')),
                ('deed_number', models.CharField(db_index=True, help_text='رقم صك الأرض (يجب أن يكون فريداً)', max_length=100, unique=True, verbose_name='رقم الصك')),
                ('location', models.CharField(blank=True, help_text='العنوان أو الموقع الجغرافي للأرض', max_length=255, verbose_name='الموقع')),
                ('owner_name', models.CharField(help_text='اسم مالك الأرض الحالي', max_length=200, verbose_name='اسم المالك')),
                ('ownership_type', models.CharField(choices=[('owned', 'ملك'), ('rented', 'إيجار'), ('leased', 'عقد إيجار طويل'), ('shared', 'مشاركة')], default='owned', help_text='نوع ملكية الأرض', max_length=20, verbose_name='نوع الملكية')),
                ('rent_start_date', models.DateField(blank=True, help_text='تاريخ بداية عقد إيجار الأرض (إن وجد)', null=True, verbose_name='تاريخ بداية الإيجار')),
                ('rent_duration_years', models.PositiveIntegerField(blank=True, help_text='مدة عقد الإيجار بالسنوات', null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(99)], verbose_name='مدة الإيجار (سنوات)')),
                ('rent_end_date', models.DateField(blank=True, editable=False, help_text='تاريخ انتهاء عقد الإيجار (يُحسب تلقائياً)', null=True, verbose_name='تاريخ نهاية الإيجار')),
                ('annual_rent_amount', models.DecimalField(blank=True, decimal_places=2, help_text='قيمة إيجار الأرض السنوي (إن كانت مستأجرة)', max_digits=12, null=True, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='قيمة الإيجار السنوي')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='هل الأرض نشطة ومتاحة للاستخدام؟', verbose_name='نشط')),
                ('notes', models.TextField(blank=True, help_text='أي ملاحظات إضافية عن الأرض', verbose_name='ملاحظات')),
                ('created_by', models.ForeignKey(blank=True, help_text='المستخدم الذي أنشأ السجل', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='أنشئ بواسطة')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='المستخدم الذي حذف السجل', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='حذف بواسطة')),
                ('updated_by', models.ForeignKey(blank=True, help_text='المستخدم الذي عدّل السجل آخر مرة', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='عُدل بواسطة')),
            ],
            options={
                'verbose_name': 'أرض',
                'verbose_name_plural': 'الأراضي',
                'db_table': 'lands',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Building',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='تاريخ إنشاء السجل تلقائياً', verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='تاريخ آخر تعديل تلقائياً', verbose_name='تاريخ التعديل')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='هل السجل محذوف (حذف ناعم)', verbose_name='محذوف')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='تاريخ حذف السجل', null=True, verbose_name='تاريخ الحذف')),
                ('name', models.CharField(help_text='اسم واضح للمبنى', max_length=200, verbose_name='اسم المبنى')),
                ('building_type', models.CharField(choices=[('residential', 'سكني'), ('commercial', 'تجاري'), ('mall', 'مول تجاري'), ('mixed', 'مختلط (سكني + تجاري)'), ('industrial', 'صناعي'), ('office', 'مكاتب إدارية')], default='residential', help_text='نوع استخدام المبنى', max_length=20, verbose_name='نوع المبنى')),
                ('total_area', models.DecimalField(decimal_places=2, help_text='إجمالي مساحة المبنى بالمتر المربع', max_digits=10, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='المساحة الإجمالية (متر مربع)')),
                ('floors_count', models.PositiveIntegerField(help_text='عدد طوابق المبنى (شامل الأرضي)', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(200)], verbose_name='عدد الطوابق')),
                ('construction_year', models.PositiveIntegerField(blank=True, help_text='السنة الهجرية أو الميلادية لبناء المبنى', null=True, validators=[django.core.validators.MinValueValidator(1900), django.core.validators.MaxValueValidator(2100)], verbose_name='سنة البناء')),
                ('has_elevator', models.BooleanField(default=False, help_text='هل المبنى مزود بمصعد؟', verbose_name='يوجد مصعد')),
                ('has_parking', models.BooleanField(default=False, help_text='هل يوجد مواقف سيارات؟', verbose_name='يوجد مواقف')),
                ('parking_spaces', models.PositiveIntegerField(blank=True, help_text='عدد مواقف السيارات المتاحة', null=True, validators=[django.core.validators.MinValueValidator(0)], verbose_name='عدد مواقف السيارات')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='هل المبنى نشط ومتاح للاستخدام؟', verbose_name='نشط')),
                ('notes', models.TextField(blank=True, help_text='أي ملاحظات إضافية عن المبنى', verbose_name='ملاحظات')),
                ('created_by', models.ForeignKey(blank=True, help_text='المستخدم الذي أنشأ السجل', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='أنشئ بواسطة')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='المستخدم الذي حذف السجل', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='حذف بواسطة')),
                ('updated_by', models.ForeignKey(blank=True, help_text='المستخدم الذي عدّل السجل آخر مرة', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='عُدل بواسطة')),
                ('land', models.ForeignKey(help_text='الأرض التي يقع عليها المبنى', on_delete=django.db.models.deletion.PROTECT, related_name='buildings', to='rent.land', verbose_name='الأرض')),
            ],
            options={
                'verbose_name': 'مبنى',
                'verbose_name_plural': 'المباني',
                'db_table': 'buildings',
                'ordering': ['land', 'name'],
            },
        ),
        migrations.CreateModel(
            name='Receipt',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='تاريخ إنشاء السجل تلقائياً', verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='تاريخ آخر تعديل تلقائياً', verbose_name='تاريخ التعديل')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='هل السجل محذوف (حذف ناعم)', verbose_name='محذوف')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='تاريخ حذف السجل', null=True, verbose_name='تاريخ الحذف')),
                ('receipt_number', models.CharField(db_index=True, default=rent.models.common_imports_models.generate_receipt_number, help_text='رقم السند الفريد (يُولد تلقائياً)', max_length=50, unique=True, verbose_name='رقم السند')),
                ('receipt_date', models.DateField(db_index=True, default=datetime.date.today, help_text='تاريخ إصدار السند', verbose_name='تاريخ السند')),
                ('amount', models.DecimalField(decimal_places=2, help_text='قيمة الدفعة', max_digits=12, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='المبلغ')),
                ('payment_method', models.CharField(choices=[('cash', 'نقدي'), ('bank_transfer', 'تحويل بنكي'), ('check', 'شيك'), ('online', 'دفع إلكتروني')], default='cash', help_text='طريقة الدفع المستخدمة', max_length=20, verbose_name='طريقة الدفع')),
                ('reference_number', models.CharField(blank=True, help_text='رقم الإيصال، الشيك، أو التحويل البنكي', max_length=100, verbose_name='رقم المرجع')),
                ('bank_name', models.CharField(blank=True, help_text='اسم البنك (للتحويل البنكي أو الشيك)', max_length=200, verbose_name='اسم البنك')),
                ('check_number', models.CharField(blank=True, help_text='رقم الشيك (إذا كانت طريقة الدفع شيك)', max_length=50, verbose_name='رقم الشيك')),
                ('check_date', models.DateField(blank=True, help_text='تاريخ استحقاق الشيك', null=True, verbose_name='تاريخ الشيك')),
                ('period_start', models.DateField(blank=True, help_text='تاريخ بداية الفترة المدفوعة', null=True, verbose_name='بداية الفترة')),
                ('period_end', models.DateField(blank=True, help_text='تاريخ نهاية الفترة المدفوعة', null=True, verbose_name='نهاية الفترة')),
                ('due_date', models.DateField(blank=True, help_text='تاريخ استحقاق الدفعة الأصلي', null=True, verbose_name='تاريخ الاستحقاق')),
                ('related_period_number', models.PositiveIntegerField(blank=True, help_text='رقم فترة العقد المرتبطة بهذا السند (اختياري)', null=True, verbose_name='رقم الفترة المرتبطة')),
                ('payment_type', models.CharField(choices=[('rent', 'إيجار'), ('vat', 'ضريبة القيمة المضافة'), ('advance', 'دفعة مقدمة'), ('charge', 'رسوم إضافية')], default='rent', help_text='نوع الدفعة (إيجار، ضريبة، إلخ)', max_length=20, verbose_name='نوع الدفعة')),
                ('status', models.CharField(choices=[('draft', 'مسودة'), ('posted', 'مرحل'), ('cancelled', 'ملغي'), ('returned', 'مرتجع')], db_index=True, default='draft', help_text='الحالة الحالية للسند', max_length=20, verbose_name='حالة السند')),
                ('posted_at', models.DateTimeField(blank=True, help_text='تاريخ ووقت ترحيل السند', null=True, verbose_name='تاريخ الترحيل')),
                ('cancelled_at', models.DateTimeField(blank=True, help_text='تاريخ ووقت إلغاء السند', null=True, verbose_name='تاريخ الإلغاء')),
                ('cancellation_reason', models.TextField(blank=True, help_text='سبب إلغاء السند', verbose_name='سبب الإلغاء')),
                ('notes', models.TextField(blank=True, help_text='أي ملاحظات إضافية', verbose_name='ملاحظات')),
                ('cancelled_by', models.ForeignKey(blank=True, help_text='المستخدم الذي ألغى السند', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='cancelled_receipts', to=settings.AUTH_USER_MODEL, verbose_name='أُلغي بواسطة')),
                ('contract', models.ForeignKey(help_text='العقد المرتبط بالسند', on_delete=django.db.models.deletion.PROTECT, related_name='receipts', to='rent.contract', verbose_name='العقد')),
                ('created_by', models.ForeignKey(blank=True, help_text='المستخدم الذي أنشأ السجل', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='أنشئ بواسطة')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='المستخدم الذي حذف السجل', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='حذف بواسطة')),
                ('posted_by', models.ForeignKey(blank=True, help_text='المستخدم الذي رحّل السند', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='posted_receipts', to=settings.AUTH_USER_MODEL, verbose_name='رُحل بواسطة')),
                ('updated_by', models.ForeignKey(blank=True, help_text='المستخدم الذي عدّل السجل آخر مرة', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='عُدل بواسطة')),
            ],
            options={
                'verbose_name': 'سند قبض',
                'verbose_name_plural': 'سندات القبض',
                'db_table': 'receipts',
                'ordering': ['-receipt_date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ReportTemplate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200, verbose_name='اسم التقرير')),
                ('report_type', models.CharField(choices=[('tenants_due', 'المستأجرين المستحقين الدفع'), ('contracts_expiring', 'العقود المنتهية'), ('occupancy_rate', 'معدل الإشغال'), ('revenue', 'الإيرادات'), ('collection', 'التحصيل'), ('custom', 'مخصص')], max_length=50, verbose_name='نوع التقرير')),
                ('description', models.TextField(blank=True, verbose_name='الوصف')),
                ('filters', models.JSONField(blank=True, default=dict, verbose_name='الفلاتر')),
                ('columns', models.JSONField(blank=True, default=list, verbose_name='الأعمدة')),
                ('sort_by', models.CharField(blank=True, max_length=100, verbose_name='ترتيب حسب')),
                ('group_by', models.CharField(blank=True, max_length=100, verbose_name='تجميع حسب')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشط')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='تم الإنشاء بواسطة')),
            ],
            options={
                'verbose_name': 'قالب تقرير',
                'verbose_name_plural': 'قوالب التقارير',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='ScheduledTask',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='تاريخ إنشاء السجل تلقائياً', verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='تاريخ آخر تعديل تلقائياً', verbose_name='تاريخ التعديل')),
                ('name', models.CharField(help_text='اسم واضح للمهمة', max_length=200, verbose_name='اسم المهمة')),
                ('task_type', models.CharField(choices=[('notification', 'إشعار'), ('report', 'تقرير'), ('backup', 'نسخ احتياطي'), ('cleanup', 'تنظيف'), ('sync', 'مزامنة'), ('calculation', 'حساب')], help_text='تصنيف المهمة', max_length=20, verbose_name='نوع المهمة')),
                ('frequency', models.CharField(choices=[('daily', 'يومي'), ('weekly', 'أسبوعي'), ('monthly', 'شهري'), ('quarterly', 'ربع سنوي'), ('yearly', 'سنوي'), ('custom', 'مخصص')], default='daily', help_text='كم مرة تُنفذ المهمة', max_length=20, verbose_name='التكرار')),
                ('execution_time', models.TimeField(blank=True, help_text='الوقت المحدد للتنفيذ اليومي', null=True, verbose_name='وقت التنفيذ')),
                ('day_of_week', models.PositiveIntegerField(blank=True, help_text='0=الأحد, 6=السبت', null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(6)], verbose_name='يوم الأسبوع')),
                ('day_of_month', models.PositiveIntegerField(blank=True, help_text='اليوم من الشهر (1-31)', null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(31)], verbose_name='يوم الشهر')),
                ('month_of_year', models.PositiveIntegerField(blank=True, help_text='الشهر من السنة (1-12)', null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(12)], verbose_name='شهر السنة')),
                ('task_function', models.CharField(help_text='المسار الكامل للدالة (مثال: app.tasks.send_notifications)', max_length=500, verbose_name='دالة المهمة')),
                ('task_parameters', models.JSONField(blank=True, default=dict, help_text='المعاملات المُمررة للدالة بصيغة JSON', verbose_name='معاملات المهمة')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='هل المهمة مُفعّلة للتنفيذ؟', verbose_name='نشط')),
                ('last_run', models.DateTimeField(blank=True, help_text='تاريخ ووقت آخر تنفيذ', null=True, verbose_name='آخر تنفيذ')),
                ('last_status', models.CharField(blank=True, choices=[('pending', 'قيد الانتظار'), ('running', 'قيد التنفيذ'), ('success', 'نجح'), ('failed', 'فشل'), ('cancelled', 'ملغي')], help_text='نتيجة آخر تنفيذ', max_length=20, verbose_name='الحالة الأخيرة')),
                ('next_run', models.DateTimeField(blank=True, db_index=True, help_text='موعد التنفيذ القادم', null=True, verbose_name='التنفيذ التالي')),
                ('success_count', models.PositiveIntegerField(default=0, help_text='عدد مرات التنفيذ الناجح', verbose_name='عدد النجاحات')),
                ('failure_count', models.PositiveIntegerField(default=0, help_text='عدد مرات فشل التنفيذ', verbose_name='عدد الفشل')),
                ('total_run_time', models.DurationField(blank=True, help_text='مجموع وقت تنفيذ جميع المهام', null=True, verbose_name='إجمالي وقت التنفيذ')),
                ('average_run_time', models.DurationField(blank=True, help_text='متوسط وقت تنفيذ المهمة', null=True, verbose_name='متوسط وقت التنفيذ')),
                ('notes', models.TextField(blank=True, help_text='أي ملاحظات عن المهمة', verbose_name='ملاحظات')),
            ],
            options={
                'verbose_name': 'مهمة مجدولة',
                'verbose_name_plural': 'المهام المجدولة',
                'db_table': 'scheduled_tasks',
                'ordering': ['name'],
                'indexes': [models.Index(fields=['is_active', 'next_run'], name='scheduled_t_is_acti_e298b4_idx'), models.Index(fields=['task_type'], name='scheduled_t_task_ty_2ba556_idx'), models.Index(fields=['frequency'], name='scheduled_t_frequen_8d3b32_idx')],
            },
        ),
        migrations.CreateModel(
            name='TaskExecution',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='تاريخ إنشاء السجل تلقائياً', verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='تاريخ آخر تعديل تلقائياً', verbose_name='تاريخ التعديل')),
                ('started_at', models.DateTimeField(help_text='وقت بدء التنفيذ', verbose_name='بدأ في')),
                ('finished_at', models.DateTimeField(blank=True, help_text='وقت انتهاء التنفيذ', null=True, verbose_name='انتهى في')),
                ('duration', models.DurationField(blank=True, help_text='مدة التنفيذ', null=True, verbose_name='المدة')),
                ('status', models.CharField(choices=[('pending', 'قيد الانتظار'), ('running', 'قيد التنفيذ'), ('success', 'نجح'), ('failed', 'فشل'), ('cancelled', 'ملغي')], default='pending', help_text='حالة التنفيذ', max_length=20, verbose_name='الحالة')),
                ('result', models.TextField(blank=True, help_text='نتيجة التنفيذ (نجاح أو رسالة خطأ)', verbose_name='النتيجة')),
                ('output', models.JSONField(blank=True, help_text='مخرجات المهمة بصيغة JSON', null=True, verbose_name='المخرجات')),
                ('error_message', models.TextField(blank=True, help_text='رسالة الخطأ إن حدث', verbose_name='رسالة الخطأ')),
                ('traceback', models.TextField(blank=True, help_text='Stack trace للخطأ', verbose_name='تتبع الخطأ')),
                ('task', models.ForeignKey(help_text='المهمة المُنفذة', on_delete=django.db.models.deletion.CASCADE, related_name='executions', to='rent.scheduledtask', verbose_name='المهمة')),
            ],
            options={
                'verbose_name': 'تنفيذ مهمة',
                'verbose_name_plural': 'تنفيذات المهام',
                'db_table': 'task_executions',
                'ordering': ['-started_at'],
            },
        ),
        migrations.CreateModel(
            name='TaskLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='تاريخ إنشاء السجل تلقائياً', verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='تاريخ آخر تعديل تلقائياً', verbose_name='تاريخ التعديل')),
                ('level', models.CharField(choices=[('debug', 'تصحيح'), ('info', 'معلومات'), ('warning', 'تحذير'), ('error', 'خطأ'), ('critical', 'حرج')], db_index=True, default='info', help_text='مستوى السجل', max_length=20, verbose_name='المستوى')),
                ('message', models.TextField(help_text='نص السجل', verbose_name='الرسالة')),
                ('details', models.JSONField(blank=True, help_text='تفاصيل إضافية بصيغة JSON', null=True, verbose_name='التفاصيل')),
                ('execution', models.ForeignKey(blank=True, help_text='التنفيذ المرتبط (إن وجد)', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='logs', to='rent.taskexecution', verbose_name='التنفيذ')),
                ('task', models.ForeignKey(help_text='المهمة المُسجلة', on_delete=django.db.models.deletion.CASCADE, related_name='logs', to='rent.scheduledtask', verbose_name='المهمة')),
            ],
            options={
                'verbose_name': 'سجل مهمة',
                'verbose_name_plural': 'سجلات المهام',
                'db_table': 'task_logs',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Tenant',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='تاريخ إنشاء السجل تلقائياً', verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='تاريخ آخر تعديل تلقائياً', verbose_name='تاريخ التعديل')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='هل السجل محذوف (حذف ناعم)', verbose_name='محذوف')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='تاريخ حذف السجل', null=True, verbose_name='تاريخ الحذف')),
                ('tenant_type', models.CharField(choices=[('individual', 'فرد'), ('company', 'شركة'), ('institution', 'مؤسسة'), ('government', 'جهة حكومية')], db_index=True, default='individual', help_text='نوع المستأجر (فرد/شركة/مؤسسة)', max_length=20, verbose_name='نوع المستأجر')),
                ('name', models.CharField(db_index=True, help_text='الاسم الكامل للمستأجر أو اسم الشركة', max_length=200, verbose_name='الاسم')),
                ('phone', models.CharField(help_text='رقم الجوال (05xxxxxxxx)', max_length=20, validators=[rent.models.common_imports_models.validate_phone_number], verbose_name='رقم الجوال')),
                ('email', models.EmailField(blank=True, help_text='البريد الإلكتروني للمراسلات', max_length=254, verbose_name='البريد الإلكتروني')),
                ('id_number', models.CharField(db_index=True, help_text='رقم الهوية الوطنية أو رقم السجل التجاري', max_length=50, unique=True, validators=[rent.models.common_imports_models.validate_national_id], verbose_name='رقم الهوية/السجل التجاري')),
                ('id_type', models.CharField(choices=[('national_id', 'هوية وطنية'), ('iqama', 'إقامة'), ('commercial_reg', 'سجل تجاري')], default='national_id', help_text='نوع وثيقة الهوية', max_length=20, verbose_name='نوع الهوية')),
                ('id_expiry_date', models.DateField(blank=True, help_text='تاريخ انتهاء صلاحية الهوية أو الإقامة', null=True, verbose_name='تاريخ انتهاء الهوية/الإقامة')),
                ('has_authorization', models.BooleanField(default=False, help_text='هل يتعامل المستأجر بوكالة؟', verbose_name='يوجد وكالة')),
                ('authorization_number', models.CharField(blank=True, help_text='رقم الوكالة الشرعية', max_length=100, verbose_name='رقم الوكالة')),
                ('authorization_date', models.DateField(blank=True, help_text='تاريخ إصدار الوكالة', null=True, verbose_name='تاريخ الوكالة')),
                ('authorization_expiry', models.DateField(blank=True, help_text='تاريخ انتهاء صلاحية الوكالة', null=True, verbose_name='تاريخ انتهاء الوكالة')),
                ('authorized_person_name', models.CharField(blank=True, help_text='اسم الشخص المفوض بالوكالة', max_length=200, verbose_name='اسم الوكيل')),
                ('address', models.TextField(blank=True, help_text='العنوان الوطني أو عنوان السكن', verbose_name='العنوان')),
                ('city', models.CharField(blank=True, help_text='المدينة', max_length=100, verbose_name='المدينة')),
                ('district', models.CharField(blank=True, help_text='الحي السكني', max_length=100, verbose_name='الحي')),
                ('company_name', models.CharField(blank=True, help_text='اسم الشركة أو المؤسسة (إن وجد)', max_length=200, verbose_name='اسم الشركة')),
                ('company_tax_number', models.CharField(blank=True, help_text='الرقم الضريبي للشركة', max_length=50, verbose_name='الرقم الضريبي')),
                ('credit_limit', models.DecimalField(blank=True, decimal_places=2, help_text='أقصى رصيد مسموح به للمستأجر', max_digits=12, null=True, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='الحد الائتماني')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='هل المستأجر نشط؟', verbose_name='نشط')),
                ('is_blacklisted', models.BooleanField(db_index=True, default=False, help_text='هل المستأجر محظور من التعامل؟', verbose_name='في القائمة السوداء')),
                ('blacklist_reason', models.TextField(blank=True, help_text='سبب إضافة المستأجر للقائمة السوداء', verbose_name='سبب الحظر')),
                ('rating', models.PositiveIntegerField(blank=True, help_text='تقييم المستأجر من 1 إلى 5', null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)], verbose_name='التقييم')),
                ('notes', models.TextField(blank=True, help_text='أي ملاحظات إضافية عن المستأجر', verbose_name='ملاحظات')),
                ('created_by', models.ForeignKey(blank=True, help_text='المستخدم الذي أنشأ السجل', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='أنشئ بواسطة')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='المستخدم الذي حذف السجل', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='حذف بواسطة')),
                ('updated_by', models.ForeignKey(blank=True, help_text='المستخدم الذي عدّل السجل آخر مرة', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='عُدل بواسطة')),
            ],
            options={
                'verbose_name': 'مستأجر',
                'verbose_name_plural': 'المستأجرين',
                'db_table': 'tenants',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='تاريخ إنشاء السجل تلقائياً', verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='تاريخ آخر تعديل تلقائياً', verbose_name='تاريخ التعديل')),
                ('notification_type', models.CharField(choices=[('contract_expiry', 'انتهاء عقد'), ('payment_due', 'موعد دفع'), ('payment_overdue', 'تأخر دفع'), ('maintenance', 'صيانة'), ('general', 'عام')], db_index=True, help_text='نوع/تصنيف الإشعار', max_length=50, verbose_name='نوع الإشعار')),
                ('title', models.CharField(help_text='عنوان الإشعار', max_length=200, verbose_name='العنوان')),
                ('message', models.TextField(help_text='نص الإشعار التفصيلي', verbose_name='الرسالة')),
                ('priority', models.CharField(choices=[('low', 'منخفض'), ('medium', 'متوسط'), ('high', 'عالي'), ('urgent', 'عاجل')], db_index=True, default='medium', help_text='مستوى أولوية الإشعار', max_length=20, verbose_name='الأولوية')),
                ('is_read', models.BooleanField(db_index=True, default=False, help_text='هل تمت قراءة الإشعار؟', verbose_name='تم القراءة')),
                ('is_sent', models.BooleanField(db_index=True, default=False, help_text='هل تم إرسال الإشعار؟', verbose_name='تم الإرسال')),
                ('is_dismissed', models.BooleanField(db_index=True, default=False, help_text='هل تم تجاهل/إخفاء الإشعار؟', verbose_name='تم التجاهل')),
                ('due_date', models.DateField(blank=True, db_index=True, help_text='تاريخ الاستحقاق المرتبط بالإشعار', null=True, verbose_name='تاريخ الاستحقاق')),
                ('sent_at', models.DateTimeField(blank=True, help_text='تاريخ ووقت إرسال الإشعار', null=True, verbose_name='تاريخ الإرسال')),
                ('read_at', models.DateTimeField(blank=True, help_text='تاريخ ووقت قراءة الإشعار', null=True, verbose_name='تاريخ القراءة')),
                ('dismissed_at', models.DateTimeField(blank=True, help_text='تاريخ ووقت تجاهل الإشعار', null=True, verbose_name='تاريخ التجاهل')),
                ('action_url', models.CharField(blank=True, help_text='رابط الصفحة المرتبطة بالإشعار', max_length=500, verbose_name='رابط الإجراء')),
                ('metadata', models.JSONField(blank=True, help_text='بيانات إضافية بصيغة JSON', null=True, verbose_name='بيانات إضافية')),
                ('contract', models.ForeignKey(blank=True, help_text='العقد المرتبط بالإشعار (إن وجد)', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to='rent.contract', verbose_name='العقد')),
                ('user', models.ForeignKey(blank=True, help_text='المستخدم المستهدف بالإشعار', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to=settings.AUTH_USER_MODEL, verbose_name='المستخدم')),
                ('tenant', models.ForeignKey(blank=True, help_text='المستأجر المرتبط بالإشعار (إن وجد)', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to='rent.tenant', verbose_name='المستأجر')),
            ],
            options={
                'verbose_name': 'إشعار',
                'verbose_name_plural': 'الإشعارات',
                'db_table': 'notifications',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='contract',
            name='tenant',
            field=models.ForeignKey(help_text='المستأجر الموقع على العقد', on_delete=django.db.models.deletion.PROTECT, related_name='contracts', to='rent.tenant', verbose_name='المستأجر'),
        ),
        migrations.CreateModel(
            name='TenantDocument',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='تاريخ إنشاء السجل تلقائياً', verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='تاريخ آخر تعديل تلقائياً', verbose_name='تاريخ التعديل')),
                ('document_type', models.CharField(choices=[('national_id', 'الهوية الوطنية'), ('iqama', 'الإقامة'), ('passport', 'جواز السفر'), ('commercial_reg', 'السجل التجاري'), ('authorization', 'الوكالة'), ('contract', 'العقد'), ('family_book', 'دفتر العائلة'), ('other', 'أخرى')], db_index=True, help_text='نوع المستند', max_length=20, verbose_name='نوع المستند')),
                ('title', models.CharField(help_text='عنوان أو وصف للمستند', max_length=200, verbose_name='العنوان')),
                ('file', models.FileField(help_text='ملف المستند (PDF, JPG, PNG, DOC)', upload_to='tenant_documents/%Y/%m/', validators=[django.core.validators.FileExtensionValidator(allowed_extensions=['pdf', 'jpg', 'jpeg', 'png', 'doc', 'docx'])], verbose_name='الملف')),
                ('file_size', models.PositiveIntegerField(blank=True, editable=False, help_text='حجم الملف بالبايت (يُحسب تلقائياً)', null=True, verbose_name='حجم الملف (بايت)')),
                ('issue_date', models.DateField(blank=True, help_text='تاريخ إصدار المستند', null=True, verbose_name='تاريخ الإصدار')),
                ('expiry_date', models.DateField(blank=True, help_text='تاريخ انتهاء صلاحية المستند (إن وجد)', null=True, verbose_name='تاريخ الانتهاء')),
                ('notes', models.TextField(blank=True, help_text='أي ملاحظات عن المستند', verbose_name='ملاحظات')),
                ('uploaded_at', models.DateTimeField(auto_now_add=True, help_text='تاريخ ووقت رفع المستند', verbose_name='تاريخ الرفع')),
                ('tenant', models.ForeignKey(help_text='المستأجر المرتبط بالمستند', on_delete=django.db.models.deletion.CASCADE, related_name='documents', to='rent.tenant', verbose_name='المستأجر')),
                ('uploaded_by', models.ForeignKey(help_text='المستخدم الذي رفع المستند', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='uploaded_tenant_documents', to=settings.AUTH_USER_MODEL, verbose_name='تم الرفع بواسطة')),
            ],
            options={
                'verbose_name': 'مستند مستأجر',
                'verbose_name_plural': 'مستندات المستأجرين',
                'db_table': 'tenant_documents',
                'ordering': ['-uploaded_at'],
            },
        ),
        migrations.CreateModel(
            name='Unit',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='تاريخ إنشاء السجل تلقائياً', verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='تاريخ آخر تعديل تلقائياً', verbose_name='تاريخ التعديل')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='هل السجل محذوف (حذف ناعم)', verbose_name='محذوف')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='تاريخ حذف السجل', null=True, verbose_name='تاريخ الحذف')),
                ('unit_number', models.CharField(db_index=True, help_text='رقم الوحدة داخل المبنى (مثال: 101، A-1)', max_length=50, verbose_name='رقم الوحدة')),
                ('floor', models.IntegerField(help_text='رقم الطابق (0=أرضي، سالب=تحت الأرض)', validators=[django.core.validators.MinValueValidator(-5), django.core.validators.MaxValueValidator(200)], verbose_name='الطابق')),
                ('area', models.DecimalField(decimal_places=2, help_text='مساحة الوحدة بالمتر المربع', max_digits=10, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='المساحة (متر مربع)')),
                ('rooms_count', models.PositiveIntegerField(default=0, help_text='عدد الغرف (غرف النوم فقط)', validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(50)], verbose_name='عدد الغرف')),
                ('bathrooms_count', models.PositiveIntegerField(default=0, help_text='عدد دورات المياه', validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(20)], verbose_name='عدد الحمامات')),
                ('has_kitchen', models.BooleanField(default=True, help_text='هل الوحدة مزودة بمطبخ؟', verbose_name='يوجد مطبخ')),
                ('has_balcony', models.BooleanField(default=False, help_text='هل الوحدة مزودة بشرفة؟', verbose_name='يوجد شرفة')),
                ('water_meter_number', models.CharField(blank=True, help_text='رقم عداد المياه الخاص بالوحدة', max_length=100, verbose_name='رقم عداد المياه')),
                ('electricity_meter_number', models.CharField(blank=True, help_text='رقم عداد الكهرباء الخاص بالوحدة', max_length=100, verbose_name='رقم عداد الكهرباء')),
                ('monthly_rent', models.DecimalField(blank=True, decimal_places=2, help_text='القيمة الإيجارية الشهرية للوحدة', max_digits=10, null=True, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='الإيجار الشهري')),
                ('security_deposit', models.DecimalField(blank=True, decimal_places=2, help_text='مبلغ التأمين المطلوب عند التأجير', max_digits=10, null=True, validators=[rent.models.common_imports_models.validate_positive_decimal], verbose_name='مبلغ التأمين')),
                ('status', models.CharField(choices=[('available', 'متاح'), ('rented', 'مؤجر'), ('maintenance', 'قيد الصيانة'), ('reserved', 'محجوز')], db_index=True, default='available', help_text='الحالة الحالية للوحدة', max_length=20, verbose_name='الحالة')),
                ('unit_type', models.CharField(choices=[('showroom', 'معرض'), ('workshop', 'ورشه')], db_index=True, default='showroom', help_text='الحالة الحالية للوحدة', max_length=20, verbose_name='نوع الوحده')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='هل الوحدة نشطة ومتاحة للاستخدام؟', verbose_name='نشط')),
                ('notes', models.TextField(blank=True, help_text='أي ملاحظات إضافية عن الوحدة', verbose_name='ملاحظات')),
                ('building', models.ForeignKey(help_text='المبنى الذي تقع فيه الوحدة', on_delete=django.db.models.deletion.PROTECT, related_name='units', to='rent.building', verbose_name='المبنى')),
                ('created_by', models.ForeignKey(blank=True, help_text='المستخدم الذي أنشأ السجل', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='أنشئ بواسطة')),
                ('deleted_by', models.ForeignKey(blank=True, help_text='المستخدم الذي حذف السجل', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL, verbose_name='حذف بواسطة')),
                ('updated_by', models.ForeignKey(blank=True, help_text='المستخدم الذي عدّل السجل آخر مرة', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL, verbose_name='عُدل بواسطة')),
            ],
            options={
                'verbose_name': 'وحدة',
                'verbose_name_plural': 'الوحدات',
                'db_table': 'units',
                'ordering': ['building', 'floor', 'unit_number'],
            },
        ),
        migrations.AddField(
            model_name='contract',
            name='units',
            field=models.ManyToManyField(help_text='الوحدات المؤجرة (وحدة واحدة أو أكثر)', related_name='contracts', to='rent.unit', verbose_name='الوحدات'),
        ),
        migrations.CreateModel(
            name='UserProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(choices=[('admin', 'مدير النظام'), ('accountant', 'محاسب'), ('leasing_manager', 'مدير إيجار'), ('receptionist', 'موظف استقبال'), ('viewer', 'مشاهد فقط')], default='viewer', max_length=20, verbose_name='الدور')),
                ('phone', models.CharField(blank=True, max_length=20, verbose_name='رقم الهاتف')),
                ('national_id', models.CharField(blank=True, max_length=50, null=True, verbose_name='الرقم الوطني')),
                ('can_manage_contracts', models.BooleanField(default=False, verbose_name='يمكن إدارة العقود')),
                ('can_manage_tenants', models.BooleanField(default=False, verbose_name='يمكن إدارة المستأجرين')),
                ('can_manage_properties', models.BooleanField(default=False, verbose_name='يمكن إدارة العقارات')),
                ('can_process_payments', models.BooleanField(default=False, verbose_name='يمكن معالجة المدفوعات')),
                ('can_view_reports', models.BooleanField(default=False, verbose_name='يمكن مشاهدة التقارير')),
                ('can_manage_users', models.BooleanField(default=False, verbose_name='يمكن إدارة المستخدمين')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشط')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='profile', to=settings.AUTH_USER_MODEL, verbose_name='المستخدم')),
            ],
            options={
                'verbose_name': 'ملف مستخدم',
                'verbose_name_plural': 'ملفات المستخدمين',
                'ordering': ['user__username'],
            },
        ),
        migrations.AddIndex(
            model_name='backup',
            index=models.Index(fields=['-created_at'], name='backups_created_bfe26c_idx'),
        ),
        migrations.AddIndex(
            model_name='backup',
            index=models.Index(fields=['status'], name='backups_status_c02d44_idx'),
        ),
        migrations.AddIndex(
            model_name='backup',
            index=models.Index(fields=['is_successful'], name='backups_is_succ_e7da5a_idx'),
        ),
        migrations.AddIndex(
            model_name='backup',
            index=models.Index(fields=['backup_type'], name='backups_backup__1988f1_idx'),
        ),
        migrations.AddIndex(
            model_name='backupschedule',
            index=models.Index(fields=['is_active', 'next_run'], name='backup_sche_is_acti_65256c_idx'),
        ),
        migrations.AddIndex(
            model_name='backupschedule',
            index=models.Index(fields=['frequency'], name='backup_sche_frequen_fed0a3_idx'),
        ),
        migrations.AddIndex(
            model_name='contractmodification',
            index=models.Index(fields=['contract', 'modification_type'], name='contract_mo_contrac_9d2d2a_idx'),
        ),
        migrations.AddIndex(
            model_name='contractmodification',
            index=models.Index(fields=['effective_date'], name='contract_mo_effecti_ee5b1f_idx'),
        ),
        migrations.AddIndex(
            model_name='contractmodification',
            index=models.Index(fields=['is_applied'], name='contract_mo_is_appl_ee77c5_idx'),
        ),
        migrations.AddIndex(
            model_name='land',
            index=models.Index(fields=['deed_number'], name='lands_deed_nu_4d304a_idx'),
        ),
        migrations.AddIndex(
            model_name='land',
            index=models.Index(fields=['ownership_type'], name='lands_ownersh_67dbdc_idx'),
        ),
        migrations.AddIndex(
            model_name='land',
            index=models.Index(fields=['is_active', 'is_deleted'], name='lands_is_acti_5c2845_idx'),
        ),
        migrations.AddIndex(
            model_name='building',
            index=models.Index(fields=['land', 'name'], name='buildings_land_id_69bacb_idx'),
        ),
        migrations.AddIndex(
            model_name='building',
            index=models.Index(fields=['building_type'], name='buildings_buildin_043d0d_idx'),
        ),
        migrations.AddIndex(
            model_name='building',
            index=models.Index(fields=['is_active', 'is_deleted'], name='buildings_is_acti_3e04f7_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='building',
            unique_together={('land', 'name')},
        ),
        migrations.AddIndex(
            model_name='receipt',
            index=models.Index(fields=['receipt_number'], name='receipts_receipt_0f1a0f_idx'),
        ),
        migrations.AddIndex(
            model_name='receipt',
            index=models.Index(fields=['contract', 'receipt_date'], name='receipts_contrac_af7eb0_idx'),
        ),
        migrations.AddIndex(
            model_name='receipt',
            index=models.Index(fields=['status'], name='receipts_status_7da223_idx'),
        ),
        migrations.AddIndex(
            model_name='receipt',
            index=models.Index(fields=['payment_method'], name='receipts_payment_6b7b56_idx'),
        ),
        migrations.AddIndex(
            model_name='receipt',
            index=models.Index(fields=['is_deleted'], name='receipts_is_dele_1df6c2_idx'),
        ),
        migrations.AddIndex(
            model_name='taskexecution',
            index=models.Index(fields=['task', '-started_at'], name='task_execut_task_id_dbf9b8_idx'),
        ),
        migrations.AddIndex(
            model_name='taskexecution',
            index=models.Index(fields=['status'], name='task_execut_status_7b46d5_idx'),
        ),
        migrations.AddIndex(
            model_name='tasklog',
            index=models.Index(fields=['task', '-created_at'], name='task_logs_task_id_43fe97_idx'),
        ),
        migrations.AddIndex(
            model_name='tasklog',
            index=models.Index(fields=['level'], name='task_logs_level_098140_idx'),
        ),
        migrations.AddIndex(
            model_name='tenant',
            index=models.Index(fields=['name'], name='tenants_name_bc4541_idx'),
        ),
        migrations.AddIndex(
            model_name='tenant',
            index=models.Index(fields=['id_number'], name='tenants_id_numb_b7aa51_idx'),
        ),
        migrations.AddIndex(
            model_name='tenant',
            index=models.Index(fields=['phone'], name='tenants_phone_be8eba_idx'),
        ),
        migrations.AddIndex(
            model_name='tenant',
            index=models.Index(fields=['tenant_type'], name='tenants_tenant__baacd7_idx'),
        ),
        migrations.AddIndex(
            model_name='tenant',
            index=models.Index(fields=['is_active', 'is_deleted'], name='tenants_is_acti_08a7e3_idx'),
        ),
        migrations.AddIndex(
            model_name='tenant',
            index=models.Index(fields=['is_blacklisted'], name='tenants_is_blac_c3d2af_idx'),
        ),
        migrations.AddIndex(
            model_name='notification',
            index=models.Index(fields=['notification_type', 'is_read'], name='notificatio_notific_72d27e_idx'),
        ),
        migrations.AddIndex(
            model_name='notification',
            index=models.Index(fields=['user', 'is_read'], name='notificatio_user_id_a4dd5c_idx'),
        ),
        migrations.AddIndex(
            model_name='notification',
            index=models.Index(fields=['priority', 'is_read'], name='notificatio_priorit_95c9c5_idx'),
        ),
        migrations.AddIndex(
            model_name='notification',
            index=models.Index(fields=['due_date'], name='notificatio_due_dat_8a5d28_idx'),
        ),
        migrations.AddIndex(
            model_name='notification',
            index=models.Index(fields=['created_at'], name='notificatio_created_e4c995_idx'),
        ),
        migrations.AddIndex(
            model_name='tenantdocument',
            index=models.Index(fields=['tenant', 'document_type'], name='tenant_docu_tenant__3826ab_idx'),
        ),
        migrations.AddIndex(
            model_name='tenantdocument',
            index=models.Index(fields=['document_type'], name='tenant_docu_documen_122d3d_idx'),
        ),
        migrations.AddIndex(
            model_name='tenantdocument',
            index=models.Index(fields=['expiry_date'], name='tenant_docu_expiry__f7d741_idx'),
        ),
        migrations.AddIndex(
            model_name='tenantdocument',
            index=models.Index(fields=['-uploaded_at'], name='tenant_docu_uploade_320000_idx'),
        ),
        migrations.AddIndex(
            model_name='unit',
            index=models.Index(fields=['building', 'floor'], name='units_buildin_3060b6_idx'),
        ),
        migrations.AddIndex(
            model_name='unit',
            index=models.Index(fields=['building', 'unit_number'], name='units_buildin_39718e_idx'),
        ),
        migrations.AddIndex(
            model_name='unit',
            index=models.Index(fields=['status'], name='units_status_eafada_idx'),
        ),
        migrations.AddIndex(
            model_name='unit',
            index=models.Index(fields=['is_active', 'is_deleted'], name='units_is_acti_14c6fd_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='unit',
            unique_together={('building', 'unit_number')},
        ),
        migrations.AddIndex(
            model_name='contract',
            index=models.Index(fields=['contract_number'], name='contracts_contrac_bb0c23_idx'),
        ),
        migrations.AddIndex(
            model_name='contract',
            index=models.Index(fields=['tenant', 'status'], name='contracts_tenant__3657e3_idx'),
        ),
        migrations.AddIndex(
            model_name='contract',
            index=models.Index(fields=['start_date', 'end_date'], name='contracts_start_d_f0a101_idx'),
        ),
        migrations.AddIndex(
            model_name='contract',
            index=models.Index(fields=['status'], name='contracts_status_093df1_idx'),
        ),
        migrations.AddIndex(
            model_name='contract',
            index=models.Index(fields=['is_deleted'], name='contracts_is_dele_ec18f3_idx'),
        ),
    ]
